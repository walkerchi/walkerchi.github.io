<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/icon/hexogen.svg"/><title>Walkerchi | walkerchi&#x27;s homepage</title><meta name="robots" content="index,follow"/><meta name="description" content="The Homepage Website of walkerchi"/><meta property="og:title" content="Walkerchi | walkerchi&#x27;s homepage"/><meta property="og:description" content="The Homepage Website of walkerchi"/><meta name="next-head-count" content="8"/><link rel="preload" href="./_next/static/css/000780a15b7c1cbd.css" as="style"/><link rel="stylesheet" href="./_next/static/css/000780a15b7c1cbd.css" data-n-g=""/><link rel="preload" href="./_next/static/css/e9521474bbd05bad.css" as="style"/><link rel="stylesheet" href="./_next/static/css/e9521474bbd05bad.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="./_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="./_next/static/chunks/webpack-1d70a8de7a21dd19.js" defer=""></script><script src="./_next/static/chunks/framework-75db3117d1377048.js" defer=""></script><script src="./_next/static/chunks/main-30435f12318d8710.js" defer=""></script><script src="./_next/static/chunks/pages/_app-c29e8ded51aeee7d.js" defer=""></script><script src="./_next/static/chunks/4ad82c5e-0dc209747f2c5278.js" defer=""></script><script src="./_next/static/chunks/542b50fd-4032e53bb43a3093.js" defer=""></script><script src="./_next/static/chunks/675-ed166fdce2eef928.js" defer=""></script><script src="./_next/static/chunks/568-25d1c2389425a4bc.js" defer=""></script><script src="./_next/static/chunks/201-55f2f15b237a96f9.js" defer=""></script><script src="./_next/static/chunks/529-60cdf8df29f46e3c.js" defer=""></script><script src="./_next/static/chunks/pages/%5Blang%5D/content/%5B...slug%5D-6375ae090a346a72.js" defer=""></script><script src="./_next/static/7Uv-H1eeK5mnpOygBEt0K/_buildManifest.js" defer=""></script><script src="./_next/static/7Uv-H1eeK5mnpOygBEt0K/_ssgManifest.js" defer=""></script><script src="./_next/static/7Uv-H1eeK5mnpOygBEt0K/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div style="display:flex;flex-direction:column;align-items:center;height:100vh;width:100vw"><header class="__navbar styles_navbar__ZZ0KS  "><div class="styles_container___z5z2"><a class="styles_logo___EFwE" href="/en">walkerchi</a><div class="styles_menu__h82R1 "><ul><li><a href="/en/me">Me</a></li><li><a href="/en/content">Blog</a></li><li><a href="/en/function">Function</a></li><li><a href="/en/gallery">Gallery</a></li><li><a>中文</a></li></ul></div><span class="styles_trigger__qB_jc "><i></i><i></i><i></i></span></div></header><div class="styles_md-render__XMOsF"><div class="styles_banner__v8_MF"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img type="jpg" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;filter:blur(20px);background-size:cover;background-image:url(&quot;data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAbEAEAAAcAAAAAAAAAAAAAAAAAAwQGBzd1tP/EABUBAQEAAAAAAAAAAAAAAAAAAAED/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAEx/9oADAMBAAIRAxEAPwC32XxpTuuk+WEAZiVf/9k=&quot;);background-position:0% 0%"/><noscript><img type="jpg" alt="" sizes="100vw" srcSet="https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg?imwidth=640 640w, https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg?imwidth=750 750w, https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg?imwidth=828 828w, https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg?imwidth=1080 1080w, https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg?imwidth=1200 1200w, https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg?imwidth=1920 1920w, https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg?imwidth=2048 2048w, https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg?imwidth=3840 3840w" src="https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg?imwidth=3840" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div><div class="styles_content__yFduY"><div class="styles_md__49sAu"></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"[华科]数据库笔记","description":"华中科技大学 数据库笔记","date":"2021-7-4","image":"https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg"},"content":"\u003ch1\u003e数据库\u003c/h1\u003e\u003ch2\u003e概论\u003c/h2\u003e\u003ch3\u003e特点\u003c/h3\u003e\u003cp\u003e结构化、共享度高，冗余度低、易扩展、数据独立性\u003c/p\u003e\u003ch3\u003eER图\u003c/h3\u003e\u003cul\u003e\u003cli\u003eM:N关系需要一张表\u003c/li\u003e\u003cli\u003eN:1关系不需要表\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e数据模型\u003c/h3\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e层次模型\u003c/p\u003e\u003cul\u003e\u003cli\u003e双亲是唯一的\u003c/li\u003e\u003cli\u003e只能处理一对多联系\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e网状模型\u003c/p\u003e\u003cul\u003e\u003cli\u003e允许没有双亲\u003c/li\u003e\u003cli\u003e可以有多个双相亲\u003c/li\u003e\u003cli\u003e只能处理一对多联系\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e关系模型（主流）\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e两级映像 三级模式\u003c/h3\u003e\u003cp\u003e\u003csvg xmlns:xlink=\"http://www.w3.org/1999/xlink\" height=\"57\" fill=\"#333\" font-family=\"\u0026#x22;trebuchet ms\u0026#x22;,verdana,arial,sans-serif\" font-size=\"16px\" style=\"max-width:338.3125px\" viewBox=\"0 0 338.313 57\"\u003e\u003cdefs\u003e\u003cpath id=\"b\" d=\"M0 0z\"/\u003e\u003c/defs\u003e\u003cg opacity=\"1\"\u003e\u003cpath fill=\"none\" stroke=\"#333\" stroke-width=\"2px\" marker-end=\"url(#a)\" d=\"M76 28.5h50\"/\u003e\u003cdefs\u003e\u003cmarker id=\"a\" markerHeight=\"6\" markerUnits=\"strokeWidth\" markerWidth=\"8\" orient=\"auto\" refX=\"9\" refY=\"5\" viewBox=\"0 0 10 10\"\u003e\u003cuse xlink:href=\"#b\"/\u003e\u003c/marker\u003e\u003c/defs\u003e\u003c/g\u003e\u003cg opacity=\"1\"\u003e\u003cpath fill=\"none\" stroke=\"#333\" stroke-width=\"2px\" marker-end=\"url(#c)\" d=\"M178 28.5h50\"/\u003e\u003cdefs\u003e\u003cmarker id=\"c\" markerHeight=\"6\" markerUnits=\"strokeWidth\" markerWidth=\"8\" orient=\"auto\" refX=\"9\" refY=\"5\" viewBox=\"0 0 10 10\"\u003e\u003cuse xlink:href=\"#b\"/\u003e\u003c/marker\u003e\u003c/defs\u003e\u003c/g\u003e\u003cforeignObject width=\"0\" height=\"0\" color=\"#333\" style=\"background-color:#e8e8e8;text-align:center\"\u003e\u003cdiv xmlns=\"http://www.w3.org/1999/xhtml\" display=\"inline-block\" style=\"white-space:nowrap\"\u003e\u003cspan fill=\"#333\" color=\"#333\" style=\"background-color:#e8e8e8;text-align:center\"\u003e\u003c/span\u003e\u003c/div\u003e\u003c/foreignObject\u003e\u003cforeignObject width=\"0\" height=\"0\" color=\"#333\" style=\"background-color:#e8e8e8;text-align:center\"\u003e\u003cdiv xmlns=\"http://www.w3.org/1999/xhtml\" display=\"inline-block\" style=\"white-space:nowrap\"\u003e\u003cspan fill=\"#333\" color=\"#333\" style=\"background-color:#e8e8e8;text-align:center\"\u003e\u003c/span\u003e\u003c/div\u003e\u003c/foreignObject\u003e\u003cg opacity=\"1\" transform=\"translate(42 28.5)\"\u003e\u003crect width=\"68\" height=\"41\" x=\"-34\" y=\"-20.5\" fill=\"#ececff\" stroke=\"#9370db\" stroke-width=\"1px\" rx=\"5\" ry=\"5\"/\u003e\u003cforeignObject width=\"48\" height=\"21\" transform=\"translate(-24 -10.5)\" color=\"#333\" style=\"text-align:center\"\u003e\u003cdiv xmlns=\"http://www.w3.org/1999/xhtml\" display=\"inline-block\" style=\"white-space:nowrap\"\u003e内模式\u003c/div\u003e\u003c/foreignObject\u003e\u003c/g\u003e\u003cg opacity=\"1\" transform=\"translate(152 28.5)\"\u003e\u003crect width=\"52\" height=\"41\" x=\"-26\" y=\"-20.5\" fill=\"#ececff\" stroke=\"#9370db\" stroke-width=\"1px\" rx=\"5\" ry=\"5\"/\u003e\u003cforeignObject width=\"32\" height=\"21\" transform=\"translate(-16 -10.5)\" color=\"#333\" style=\"text-align:center\"\u003e\u003cdiv xmlns=\"http://www.w3.org/1999/xhtml\" display=\"inline-block\" style=\"white-space:nowrap\"\u003e模式\u003c/div\u003e\u003c/foreignObject\u003e\u003c/g\u003e\u003cg opacity=\"1\" transform=\"translate(279.156 28.5)\"\u003e\u003crect width=\"102.313\" height=\"41\" x=\"-51.156\" y=\"-20.5\" fill=\"#ececff\" stroke=\"#9370db\" stroke-width=\"1px\" rx=\"5\" ry=\"5\"/\u003e\u003cforeignObject width=\"82.313\" height=\"21\" transform=\"translate(-41.156 -10.5)\" color=\"#333\" style=\"text-align:center\"\u003e\u003cdiv xmlns=\"http://www.w3.org/1999/xhtml\" display=\"inline-block\" style=\"white-space:nowrap\"\u003e外模式View\u003c/div\u003e\u003c/foreignObject\u003e\u003c/g\u003e\u003c/svg\u003e\u003c/p\u003e\u003ch2\u003e关系数据库\u003c/h2\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e关系数据库操作语言\\begin{cases}关系代数语言\\\\关系演算语言\\\\结构化查询语言SQL\\end{cases}\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e关系：笛卡尔积中有意义的子集\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e元素：关系中每个元素（行）\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e属性：列名\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e候选码：最小能唯一表示一个元组的一组属性\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e全码：候选码是所有的属性\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e主码：候选码之一\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e主属性：候选码的属性\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e非码属性：任何候选码都不包含的属性\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e外码：在R中的属性组，在S中是主码\u003c/span\u003e\u003c/p\u003e\u003ch3\u003e关系完整性\u003c/h3\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e实体完整性\u003c/p\u003e\u003cp\u003e主属性不能为空\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e参照完整性\u003c/p\u003e\u003cp\u003e外码必须为空或S的主码值\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e用户定义完整性\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e关系代数\u003c/h3\u003e\u003cp\u003e自然连接：删除重复列\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eR(X,Y)\\div S(Y,Z)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eR\\div S = \\{t[X]|t\\in R \\and Y_{t[X]} \\supseteq \\Pi_Y (S)\\}\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eR\\div S = \\Pi_X(R) - \\Pi_X(\\Pi_X(R)\\times \\Pi_Y(S) - R)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://img-blog.csdnimg.cn/20200824204535830.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2pvZXlfcm8=,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\" width=\"632\" height=\"385\" type=\"png\" blurdataurl=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVQImQEnANj/ACQkJAAAAWVlZf///wCfn58NDg9PT1CVlZUAr6+vV1hZxcfH5OTkEyYRYmAJawoAAAAASUVORK5CYII=\"\u003e\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2\u003eSQL\u003c/h2\u003e\u003ch3\u003e查询\u003c/h3\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e列出至少有三门课程成绩在90分以上的学生学号和平均成绩\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-sql\"\u003eselect sno,avg(grade) as avg_grade\r\nfrom sc sc1\r\ngroup by sno\r\nhaving (select count(*)\r\n        from sc\r\n        where sno=sc1.sno and grade\u003e=90\r\n       )\u003e=3\n\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eexist 与 in 转换\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-sql\"\u003eselect ... from T1 \r\nwhere C1 in (\r\n\tselect C2 from T2 \r\n\twhere ...\r\n)\r\nselect ... from T1\r\nwhere exists (\r\n\tselect * from T1 \r\n     where ... and C2=T1.C1\r\n)\n\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e查询选修了全部课程的学生的姓名\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-sql\"\u003eselect sname \r\nfrom student\r\nwhere not exists(\r\n\tselect * from course\r\n    where not exists(\r\n        \tselect * from sc\r\n            where sno=student.sno and cno = cources.cno\r\n        )\r\n)\r\n\r\nselect sname\r\nfrom student\r\nwhere not exists(\r\n\tselect * from course\r\n    where cno not in (\r\n    \tselect cno from sc \r\n        where sno = student.sno\r\n    )\r\n)\n\u003c/code\u003e\u003c/pre\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2\u003e关系数据理论\u003c/h2\u003e\u003ch3\u003e函数依赖\u003c/h3\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e若s[X]=t[X]则有s[Y]=t[Y]称X函数确定Y（Y函数依赖X，X\\rightarrow Y）\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eX\\rightarrow Y, Y\\nsubseteq X,则X\\rightarrow Y是非平凡的函数依赖\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eX\\rightarrow Y,且任意 X'\\in X \\Rightarrow X'\\nrightarrow Y，则Y完全依赖于X\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e主码候选码统称为码\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eArmstrong公理系统\\begin{cases}自反律:Y\\subseteq X\\Rightarrow X\\rightarrow Y\\\\赠广律:X\\rightarrow Y\\Rightarrow XZ\\rightarrow YZ\\\\传递律:X\\rightarrow Y,Y\\rightarrow Z\\Rightarrow X\\rightarrow Z\\end{cases}\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eX\\rightarrow Y \\Leftrightarrow X_F^+\\supseteq Y\u003c/span\u003e\u003c/p\u003e\u003cp\u003e候选码的属性一定不会在右侧出现\u003c/p\u003e\u003cul\u003e\u003cli\u003e计算最小依赖集\u003col\u003e\u003cli\u003e右部单属性化\u003c/li\u003e\u003cli\u003e去掉多余函数依赖\u003c/li\u003e\u003cli\u003e去掉左部多余属性\u003c/li\u003e\u003c/ol\u003e\u003c/li\u003e\u003cli\u003e正则覆盖\u003col\u003e\u003cli\u003e合并左侧相同的函数依赖\u003c/li\u003e\u003cli\u003e去掉每个函数中的无关属性\u003c/li\u003e\u003c/ol\u003e\u003c/li\u003e\u003cli\u003e求候选码\u003col\u003e\u003cli\u003e找到不在右边出现的属性\u003cspan class=\"math math-inline\"\u003eN\u003c/span\u003e，并计算闭包，如果闭包为U则终止\u003c/li\u003e\u003cli\u003e找到既在左部又在右部的属性集，将LR的子集并入\u003cspan class=\"math math-inline\"\u003eN\u003c/span\u003e测试是否构成码\u003c/li\u003e\u003c/ol\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e范式\u003c/h3\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e1NF\u003c/p\u003e\u003cp\u003e属性不可分\u003c/p\u003e\u003cp\u003e数据冗余、更新异常、插入异常、删除异常\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e2NF\u003c/p\u003e\u003cp\u003e非主属性完全依赖于码\u003c/p\u003e\u003cp\u003e数据冗余、更新异常、插入异常、删除异常\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e3NF\u003c/p\u003e\u003cp\u003e不允许：\u003c/p\u003e\u003cdiv class=\"math math-display\"\u003eX\\rightarrow Y \\rightarrow Z\\\\ X:码\\quad Y:不含码\\quad Z:非主属性，且Z\\nsubseteq Y\u003c/div\u003e\u003cp\u003e没有非主属性对码的传递依赖\u003c/p\u003e\u003cp\u003e要么左侧是超码要么右侧是主属性\u003c/p\u003e\u003cp\u003e没有非主属性一定是3NF\u003c/p\u003e\u003cp\u003e数据冗余、更新异常、插入异常、删除异常\u003c/p\u003e\u003cdiv class=\"math math-display\"\u003e若R\\in 3NF 则 R\\in 2NF \\\\ 证：\\\\ 假设R\\notin 2NF, 但R\\in 3NF\\\\ \\because R\\notin 2NF\\\\ \\therefore \\exist Y\\subset X, Y\\rightarrow Z\\Rightarrow X\\rightarrow Y\\rightarrow Z\\\\ R\\notin3NF矛盾\u003c/div\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eBCNF\u003c/p\u003e\u003cp\u003e非平凡函数依赖左侧包含候选码\u003c/p\u003e\u003cdiv class=\"math math-display\"\u003e如果R\\in BCNF 则 R\\in 3NF \\\\ 证: \\\\ 设R\\in BCNF，但R\\notin 3NF \\\\ 则必存在码X，属性组Y，非主属性组Z： \\\\ X\\rightarrow Y,Y\\rightarrow Z, Y\\nrightarrow X, Z\\nsubseteq Y \\\\ 由BCNF定义Y必包含候选码，故有Y\\rightarrow X， 矛盾\u003c/div\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e4NF\u003c/p\u003e\u003cp\u003e所有非平凡函数依赖\u003cspan class=\"math math-inline\"\u003eX\\rightarrow \\rightarrow Y(Y\\nsubseteq X)\u003c/span\u003eX都含有候选码\u003c/p\u003e\u003cp\u003e所有二值关系至少是4NF\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e5NF\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003col\u003e\u003cli\u003e二元关系最高到4NF\u003c/li\u003e\u003cli\u003e全主属性3NF，不一定到BCNF\u003c/li\u003e\u003cli\u003e全码一定是BCNF，不一定是是4NF\u003c/li\u003e\u003cli\u003e只有一个主属性一定是2NF不一定是3NF\u003c/li\u003e\u003cli\u003e只有一个非主属性，不一定到2NF\u003c/li\u003e\u003c/ol\u003e\u003ch3\u003e模式分解\u003c/h3\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e判断无损链接\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e方法一\u003c/p\u003e\u003col\u003e\u003cli\u003e对每一个关系函数进行遍历，修改右侧，如果为a则都改为a\u003c/li\u003e\u003cli\u003e出现同花顺停止，则为无损链接\u003c/li\u003e\u003c/ol\u003e\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2022/06/18/m9Hlci1weGJCXvE.png\" alt=\"img\" width=\"1422\" height=\"710\" type=\"png\" blurdataurl=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAIAAADwyuo0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAI0lEQVQImWNYsXJVTW1delbuyrUbGN69e8fGx8DAxPD//38AqGIMlAkmLosAAAAASUVORK5CYII=\"\u003e\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e方法二\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eU_1\\bigcap U_2\\rightarrow U_1 - U_2 \\in F^+\u003c/span\u003e\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003c/ul\u003e\u003col\u003e\u003cli\u003e若进要求分解具有无损链接性则分解一定能达到4NF\u003c/li\u003e\u003cli\u003e若仅要求分解保持函数依赖，则分解一定能达到3NF\u003c/li\u003e\u003cli\u003e若已具有无损链接性又保持函数依赖则分解一定能达到3NF，不一定达到BCNF\u003c/li\u003e\u003c/ol\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e模式分解\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2022/06/18/PlwEeOWd32haKIm.png\" alt=\"img\" width=\"806\" height=\"324\" type=\"png\" blurdataurl=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAIAAAB2XpiaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQImWMQFZVgYGBdv37Tv///ARNHBVSvlMjzAAAAAElFTkSuQmCC\"\u003e\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2\u003e查询处理\u003c/h2\u003e\u003ch3\u003e查询操作\u003c/h3\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e\\begin{cases}嵌套循环链接\\\\排序-合并方法\\\\索引链接\\\\hash链接\\end{cases}\u003c/span\u003e\u003c/p\u003e\u003ch3\u003e查询优化\u003c/h3\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e例\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2022/06/18/iwD87nfZFgqsTO5.png\" alt=\"img\" width=\"776\" height=\"560\" type=\"png\" blurdataurl=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKklEQVQImWNwd3dnYGDMLyo5fe4Cw////zds2JCbk/v//38o5/r160AOAIaWGHTWiNpVAAAAAElFTkSuQmCC\"\u003e\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2022/06/18/MwJDST5hNfgPQbO.png\" alt=\"img\" width=\"815\" height=\"569\" type=\"png\" blurdataurl=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVQImQEnANj/AAAAAW1tbqmqr0dKSwCdnZ2enp+1tLidnZ0Avr6+////zc3Nzs7PWHEV2/G+A8wAAAAASUVORK5CYII=\"\u003e\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2022/06/18/GmjHWJDseEYkQKF.png\" alt=\"image-20210703180221065\" width=\"870\" height=\"590\" type=\"png\" blurdataurl=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAIAAADwyuo0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJUlEQVQImQEaAOX/AAwICAEAAykqK8vNzgD////Jx8jn5eXl4+J2Tw21ENucsgAAAABJRU5ErkJggg==\"\u003e\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2022/06/18/PlwEeOWd32haKIm.png\" alt=\"img\" width=\"806\" height=\"324\" type=\"png\" blurdataurl=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAIAAAB2XpiaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQImWMQFZVgYGBdv37Tv///ARNHBVSvlMjzAAAAAElFTkSuQmCC\"\u003e\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2022/06/18/WTzOXLqvK518eIG.png\" alt=\"img\" width=\"788\" height=\"603\" type=\"png\" blurdataurl=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVQImQEnANj/AG1sbUlKSzQ5PKetsgDd3d+HhYVWVVWbnZsAKS4zAAABlpWU/v//OxQRFxulP9AAAAAASUVORK5CYII=\"\u003e\u003c/p\u003e\u003cdiv class=\"math math-display\"\u003e嵌套循环代价：\\\\ 读块数=Br+\\frac{Br\\cdot Bs}{K-2}\\\\ 写块数=Br+\\frac{Br\\cdot Bs}{K-2}+\\frac{Frs\\cdot Nr\\cdot Ns}{Mrs}\\\\\\ 索引扫描代价:\\\\ 读块数=L+S\\\\ L:B+树层数\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2\u003e数据库恢复\u003c/h2\u003e\u003ch3\u003e事务的特性ACID\u003c/h3\u003e\u003cul\u003e\u003cli\u003e原子性\u003c/li\u003e\u003cli\u003e一致性\u003c/li\u003e\u003cli\u003e隔离性\u003c/li\u003e\u003cli\u003e持续性\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e故障\u003c/h3\u003e\u003cul\u003e\u003cli\u003e事务故障 UNDO\u003c/li\u003e\u003cli\u003e系统故障 UNDO+REDO\u003c/li\u003e\u003cli\u003e介质故障 REDO\u003c/li\u003e\u003cli\u003e计算机病毒\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e恢复\u003c/h3\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e数据转储\u003c/p\u003e\u003cul\u003e\u003cli\u003e静态转储 动态转储\u003c/li\u003e\u003cli\u003e海量转储 增量转储\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e日志文件\u003c/p\u003e\u003col\u003e\u003cli\u003e从检查点开始扫描日志，UNDO队列初始化为ACTIVE队列，REDO队列初始化为空\u003c/li\u003e\u003cli\u003eUNDO队列总每个事务从后向前扫描日志UNDO\u003c/li\u003e\u003cli\u003eREDO对立中每个事务从前向后扫描日志REDO\u003c/li\u003e\u003c/ol\u003e\u003cp\u003e\u003cimg src=\"https://s2.loli.net/2022/06/18/upXEGLKg7WetbCm.png\" alt=\"img\" width=\"757\" height=\"489\" type=\"png\" blurdataurl=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAIAAADwyuo0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAI0lEQVQImWOwMDf39fH5////t2/fGE6dOsnIwGBtZTll8mQApGMMMesZ0LoAAAAASUVORK5CYII=\"\u003e\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2\u003e并发控制\u003c/h2\u003e\u003ch3\u003e数据不一致性\u003c/h3\u003e\u003cul\u003e\u003cli\u003e丢失更新\u003c/li\u003e\u003cli\u003e读脏数据\u003c/li\u003e\u003cli\u003e不可重复读\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e三级封锁\u003c/h3\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e\\begin{cases} X锁（写锁）\\\\ S锁（读锁）\\end{cases}\u003c/span\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e一级封锁协议\u003c/p\u003e\u003cp\u003e事务写之前加X锁\u003c/p\u003e\u003cp\u003e防止丢失更新\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e二级封锁协议\u003c/p\u003e\u003cp\u003e事务写之前加X锁，读之前加S锁\u003c/p\u003e\u003cp\u003e防止丢失更新、读脏数据\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e三级封锁协议\u003c/p\u003e\u003cp\u003e事务写之前加X锁，事务读之前加S锁\u003c/p\u003e\u003cp\u003e防止丢失更新、读脏数据、不可重复读\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e活锁\u003c/p\u003e\u003cp\u003e解决：先来先服务\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e死锁\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e产生条件\\begin{cases}互斥\\\\不可剥夺\\\\部分分配\\\\环路\\end{cases}\u003c/span\u003e\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003cstrong\u003e可串行化是并行事务正确性的唯一标准\u003c/strong\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003en个事务允许并发执行，最多有n种可能的正确结果\u003c/strong\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e冲突可串行化调度一定是可串行化调度\u003c/strong\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e不是冲突可串行化调度仍有可能是可串行化调度\u003c/strong\u003e\u003c/p\u003e\u003ch3\u003e并发调度可传行性\u003c/h3\u003e\u003cp\u003e不同事务，统一数据，读读操作可交换\u003c/p\u003e\u003cp\u003e不同事物，不同数据，皆可交换\u003c/p\u003e\u003ch3\u003e两段锁\u003c/h3\u003e\u003cp\u003e读写之前先封锁\u003c/p\u003e\u003cp\u003e释放封锁后不再申请锁\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e三级封锁是两段锁的特例\u003c/strong\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e两段锁协议是可串行化调度的充分不必要条件\u003c/strong\u003e\u003c/p\u003e\u003ch3\u003e多粒度封锁\u003c/h3\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003e\\Join\u003c/span\u003e\u003c/p\u003e","renderType":"md","imageProps":{"src":"https://s2.loli.net/2022/05/21/xBCITtd3PXU2gih.jpg","width":4325,"height":1440,"type":"jpg","blurDataURL":"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAbEAEAAAcAAAAAAAAAAAAAAAAAAwQGBzd1tP/EABUBAQEAAAAAAAAAAAAAAAAAAAED/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAEx/9oADAMBAAIRAxEAPwC32XxpTuuk+WEAZiVf/9k="},"language":"en"},"__N_SSG":true},"page":"/[lang]/content/[...slug]","query":{"lang":"en","slug":["engineering-science","computer-science","hust","database","summary-md"]},"buildId":"7Uv-H1eeK5mnpOygBEt0K","assetPrefix":".","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>