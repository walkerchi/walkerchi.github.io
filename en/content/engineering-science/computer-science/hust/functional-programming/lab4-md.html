<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/icon/hexogen.svg"/><title>Walkerchi | walkerchi&#x27;s homepage</title><meta name="robots" content="index,follow"/><meta name="description" content="The Homepage Website of walkerchi"/><meta property="og:title" content="Walkerchi | walkerchi&#x27;s homepage"/><meta property="og:description" content="The Homepage Website of walkerchi"/><meta name="next-head-count" content="8"/><link rel="preload" href="walkerchi.github.io/_next/static/css/aadff0a8c0c006d4.css" as="style"/><link rel="stylesheet" href="walkerchi.github.io/_next/static/css/aadff0a8c0c006d4.css" data-n-g=""/><link rel="preload" href="walkerchi.github.io/_next/static/css/e9521474bbd05bad.css" as="style"/><link rel="stylesheet" href="walkerchi.github.io/_next/static/css/e9521474bbd05bad.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="walkerchi.github.io/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="walkerchi.github.io/_next/static/chunks/webpack-903b2e19667cd34b.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/framework-75db3117d1377048.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/main-30435f12318d8710.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/pages/_app-c29e8ded51aeee7d.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/4ad82c5e-0dc209747f2c5278.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/542b50fd-4032e53bb43a3093.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/675-ed166fdce2eef928.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/568-25d1c2389425a4bc.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/201-5783f2f394d4ae95.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/529-d02e7b30e4203962.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/pages/%5Blang%5D/content/%5B...slug%5D-451a01eedd40e898.js" defer=""></script><script src="walkerchi.github.io/_next/static/KWBGosNCnO267caR4qW6i/_buildManifest.js" defer=""></script><script src="walkerchi.github.io/_next/static/KWBGosNCnO267caR4qW6i/_ssgManifest.js" defer=""></script><script src="walkerchi.github.io/_next/static/KWBGosNCnO267caR4qW6i/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div style="display:flex;flex-direction:column;align-items:center;height:100vh;width:100vw"><header class="__navbar styles_navbar__ZZ0KS  "><div class="styles_container___z5z2"><a class="styles_logo___EFwE" href="/en">walkerchi</a><div class="styles_menu__h82R1 "><ul><li><a href="/en/me">Me</a></li><li><a href="/en/content">Blog</a></li><li><a href="/en/function">Function</a></li><li><a href="/en/gallery">Gallery</a></li><li><a>中文</a></li></ul></div><span class="styles_trigger__qB_jc "><i></i><i></i><i></i></span></div></header><div class="styles_md-render__XMOsF"><div class="styles_banner__v8_MF"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img type="jpg" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;filter:blur(20px);background-size:cover;background-image:url(&quot;data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAADAAQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAfEAAABgEFAAAAAAAAAAAAAAAAAQIDBAURBhMhMWH/xAAUAQEAAAAAAAAAAAAAAAAAAAAG/8QAGREBAQEAAwAAAAAAAAAAAAAAAQIAERJR/9oADAMBAAIRAxEAPwCCtLl6HqC5ZZh06kFMXjdqYrpl1xlTZnjwAAN5iU5TE+9AA+b/2Q==&quot;);background-position:0% 0%"/><noscript><img type="jpg" alt="" sizes="100vw" srcSet="https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=640 640w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=750 750w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=828 828w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=1080 1080w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=1200 1200w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=1920 1920w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=2048 2048w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=3840 3840w" src="https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=3840" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div><div class="styles_content__yFduY"><div class="styles_md__49sAu"></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"[华科]函数式编程实验4","description":"“华中科技大学 函数式编程实验4题目与答案\"","date":"2021-4-21","image":"https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg"},"content":"\u003ch1\u003eLab4\u003c/h1\u003e\u003ch2\u003eQ1\u003c/h2\u003e\u003cp\u003e编写函数thenAddOne，要求： 1.函数类型为: ((int -\u003eint) * int) -\u003e int； 2.功能为将一个整数通过函数变换(如翻倍、求平方或求阶乘)后再加1。\u003c/p\u003e\u003cpre\u003e\u003ccode\u003efun double(x) = 2*x;\r\nfun square(x) = x*x;\r\nfun factorial(1) = 1  \r\n  | factorial(x) = x*factorial(x-1);\r\n\r\nfun thenAddOne (f:(int-\u003eint),x:int):int = f(x)+1;\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eQ2\u003c/h2\u003e\u003cp\u003e编写函数mapList，要求： 1.类型为: ((‘a -\u003e ‘b) * ‘a list) -\u003e ‘b list； 2.功能为实现整数集的数学变换(如翻倍、求平方或求阶乘)\u003c/p\u003e\u003cpre\u003e\u003ccode\u003efun mapList(f,[]) = []\r\n  | mapList(f,x::L) = f(x)::mapList(f,L);\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eQ3\u003c/h2\u003e\u003cp\u003e编写函数mapList’，要求：\u003c/p\u003e\u003cp\u003e① 函数类型为: (‘a -\u003e ‘b) -\u003e (‘a list -\u003e ‘b list)；\u003c/p\u003e\u003cp\u003e② 功能为实现整数集的数学变换(如翻倍、求平方或求阶乘)。\u003c/p\u003e\u003cp\u003e③ 比较函数mapList’和mapList，分析、体会它们有什么不同。\u003c/p\u003e\u003cpre\u003e\u003ccode\u003efun mapList' (f) = \r\n\tlet\r\n\t\tfun ret [] = []\r\n\t\t  | ret (x::L) = f(x)::ret(L)\r\n\tin\r\n\t\tret\r\n\tend;\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eQ4\u003c/h2\u003e\u003cp\u003e编写函数： exists: (‘a -\u003e bool) -\u003e ‘a list -\u003e bool forall: (‘a -\u003e bool) -\u003e ‘a list -\u003e bool 对函数p: t -\u003e bool, 整数集L: t list, 有：exist p L =\u003e* true if there is an x in L such that p x=true; exits p L =\u003e* false otherwise. forall p L =\u003e* true if p x = true for every item x in L; forall p L =\u003e* false otherwise.\u003c/p\u003e\u003cpre\u003e\u003ccode\u003efun exists (f) = \r\n\tlet\r\n\t\tfun wrapper([]) = false\r\n           | wrapper(x::L)=\r\n           \t\tcase f(x) of\r\n           \t\t\ttrue =\u003e true\r\n           \t\t\t| false =\u003e wrapper(L) \r\n\tin\r\n\t\twrapper\r\n\tend;\r\n\t\r\n\t\r\nfun forAll (f) = \r\n\tlet \r\n\t\tfun wrapper([]) = true\r\n\t\t  | wrapper(x::L) = \r\n\t\t  \t\tcase f(x) of\r\n\t\t  \t\t\tfalse =\u003e false\r\n\t\t  \t\t\t| true =\u003e wrapper(L)\r\n\tin \r\n\t\twrapper\r\n\tend;\r\n\r\n\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eQ5\u003c/h2\u003e\u003cp\u003e编写函数： treeFilter: (‘a -\u003e bool) -\u003e ‘a tree -\u003e ‘a option tree 将树中满足条件P（ ‘a -\u003e bool ）的节点封装成option类型保留，否则替换成NONE\u003c/p\u003e\u003cpre\u003e\u003ccode\u003edatatype 'a tree = EMPTY | Node of 'a tree*'a*'a tree\r\ndatatype 'a option = NONE | SOME of 'a\r\n\r\nfun treeFilter (f) = \r\n\tlet\r\n\t\tfun wrapper(EMPTY) = EMPTY\r\n\t\t  | wrapper(Node(l,x,r)) = \r\n\t\t\tcase f(x) of \r\n\t\t\t\ttrue =\u003e Node(wrapper(l), SOME x, wrapper(r))\r\n\t\t\t\t| false =\u003e Node(wrapper(l), NONE, wrapper(r))\r\n\tin \r\n\t\twrapper\r\n\tend;\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eQ6\u003c/h2\u003e\u003cp\u003e十进制数可表示为\u003cspan class=\"math math-inline\"\u003e54_{10}\u003c/span\u003e，而二进制数可表示为\u003cspan class=\"math math-inline\"\u003e10_{2}\u003c/span\u003e. 其中右下标的’10’,’2’称为基数。通常，给定一个基数b和n个数字dndn-1…d1组成的字符串，该数字字符串的值可用公式计算：∑i=1nbi-1di. 如：\u003cspan class=\"math math-inline\"\u003e54_{10}=5*10^1+4*10^0=54\u003c/span\u003e,\u003cspan class=\"math math-inline\"\u003e10_2=1*2^1+0*2^0=2. \u003c/span\u003e同时，任意一个数可以表示成b以内数字的int list形式。如11002=[0,0,1,1], 5410=[4,5].\u003c/p\u003e\u003cp\u003e(1)编写高阶函数：toInt: int -\u003e int list -\u003e int. 对所有b\u003e1和所有L: int list,如果L是一个b进制数的int list表示，函数toInt b L为其相应的整数值，toInt b的结果类型为：int list -\u003e int. 如： val base2ToInt = toInt 2; val 2 = base2ToInt [0,1];\u003c/p\u003e\u003cp\u003e(2) 利用数学操作mod和div可以将任意十进制整数n表示成基于基数b的b进制数形式，如\u003cspan class=\"math math-inline\"\u003e42-_{10} = 132_{5}\u003c/span\u003e。 编写高阶函数 toBase: int -\u003e int -\u003e int list 实现该转换：toBase b n将十进制数n转换为b进制数的int list表述形式（b\u003e1, n≥0）。\u003c/p\u003e\u003cp\u003e(3)编写高阶函数 convert: int * int -\u003e int list -\u003e int list 对任意b1, b2 \u003e 1和所有L: int list（L为一个b1进制数的int list表述形式），函数convert(b1, b2) L将b1进制数的int list表述L转换成b2进制数的int list表述，即满足 toInt b2 (convert(b1, b2) L) = toInt b1 L。\u003c/p\u003e\u003ch3\u003e(1)\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003efun toInt(base) = \r\n\tlet\r\n\t\tfun wrapper ([]) = 0\r\n\t\t  | wrapper (x:L) = \r\n\t\t\tlet \r\n\t\t\t\tfun pow(0)=1\r\n\t\t\t\t  | pow(n) = base*pow(n-1)\r\n\t\t\t\tval pos = pow(List.length(L))\r\n\t\t\tin\r\n\t\t\t\tpos*x + wrapper(L)\r\n\t\t\tend\r\n\tin\r\n\t\twrapper\r\n\tend;\n\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003e（2）\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003efun toBase (base) = \r\n\tlet\r\n\t\tfun wrapper(0) = []\r\n\t\t  | wrapper(value) = \r\n\t\t  \tlet \r\n\t\t  \t\tval q = value div base\r\n\t\t  \t\tval p = value mod base\r\n\t\t  \tin\r\n\t\t  \t\twrapper(q)@[p]\r\n\t\t  \tend\r\n\tin\r\n\t\twrapper\r\n\tend;\n\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003e(3)\u003c/h3\u003e\u003cpre\u003e\u003ccode\u003e\r\nfun convert (baseSrc, baseDst) = \r\n\tlet\r\n\t\tfun wrapper L = \r\n            let \r\n                val toIntSrc = toInt(baseSrc)\r\n                val toBaseDst = toBase(baseDst)\r\n            in\r\n                toBaseDst(toIntSrc(L))\r\n            end\r\n            \r\n\tin\r\n\t\twrapper\r\n\tend;\r\n\t\r\n\t\r\n\t\r\nfun convert (baseSrc, baseDst) = \r\n\tlet\r\n\t\tfun wrapper = toBase(baseDst, toInt(baseSrc))\r\n\tin\r\n\t\twrapper\r\n\tend;\n\u003c/code\u003e\u003c/pre\u003e","renderType":"md","imageProps":{"src":"https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg","width":1920,"height":1080,"type":"jpg","blurDataURL":"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAADAAQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAfEAAABgEFAAAAAAAAAAAAAAAAAQIDBAURBhMhMWH/xAAUAQEAAAAAAAAAAAAAAAAAAAAG/8QAGREBAQEAAwAAAAAAAAAAAAAAAQIAERJR/9oADAMBAAIRAxEAPwCCtLl6HqC5ZZh06kFMXjdqYrpl1xlTZnjwAAN5iU5TE+9AA+b/2Q=="},"language":"en"},"__N_SSG":true},"page":"/[lang]/content/[...slug]","query":{"lang":"en","slug":["engineering-science","computer-science","hust","functional-programming","lab4-md"]},"buildId":"KWBGosNCnO267caR4qW6i","assetPrefix":"walkerchi.github.io","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>