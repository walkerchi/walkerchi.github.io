<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/icon/hexogen.svg"/><title>Walkerchi | walkerchi&#x27;s homepage</title><meta name="robots" content="index,follow"/><meta name="description" content="The Homepage Website of walkerchi"/><meta property="og:title" content="Walkerchi | walkerchi&#x27;s homepage"/><meta property="og:description" content="The Homepage Website of walkerchi"/><meta name="next-head-count" content="8"/><link rel="preload" href="walkerchi.github.io/_next/static/css/aadff0a8c0c006d4.css" as="style"/><link rel="stylesheet" href="walkerchi.github.io/_next/static/css/aadff0a8c0c006d4.css" data-n-g=""/><link rel="preload" href="walkerchi.github.io/_next/static/css/e9521474bbd05bad.css" as="style"/><link rel="stylesheet" href="walkerchi.github.io/_next/static/css/e9521474bbd05bad.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="walkerchi.github.io/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="walkerchi.github.io/_next/static/chunks/webpack-903b2e19667cd34b.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/framework-75db3117d1377048.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/main-30435f12318d8710.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/pages/_app-c29e8ded51aeee7d.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/4ad82c5e-0dc209747f2c5278.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/542b50fd-4032e53bb43a3093.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/675-ed166fdce2eef928.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/568-25d1c2389425a4bc.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/201-5783f2f394d4ae95.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/529-d02e7b30e4203962.js" defer=""></script><script src="walkerchi.github.io/_next/static/chunks/pages/%5Blang%5D/content/%5B...slug%5D-451a01eedd40e898.js" defer=""></script><script src="walkerchi.github.io/_next/static/KWBGosNCnO267caR4qW6i/_buildManifest.js" defer=""></script><script src="walkerchi.github.io/_next/static/KWBGosNCnO267caR4qW6i/_ssgManifest.js" defer=""></script><script src="walkerchi.github.io/_next/static/KWBGosNCnO267caR4qW6i/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div style="display:flex;flex-direction:column;align-items:center;height:100vh;width:100vw"><header class="__navbar styles_navbar__ZZ0KS  "><div class="styles_container___z5z2"><a class="styles_logo___EFwE" href="/en">walkerchi</a><div class="styles_menu__h82R1 "><ul><li><a href="/en/me">Me</a></li><li><a href="/en/content">Blog</a></li><li><a href="/en/function">Function</a></li><li><a href="/en/gallery">Gallery</a></li><li><a>中文</a></li></ul></div><span class="styles_trigger__qB_jc "><i></i><i></i><i></i></span></div></header><div class="styles_md-render__XMOsF"><div class="styles_banner__v8_MF"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img type="jpg" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;filter:blur(20px);background-size:cover;background-image:url(&quot;data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAADAAQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAfEAAABgEFAAAAAAAAAAAAAAAAAQIDBAURBhMhMWH/xAAUAQEAAAAAAAAAAAAAAAAAAAAG/8QAGREBAQEAAwAAAAAAAAAAAAAAAQIAERJR/9oADAMBAAIRAxEAPwCCtLl6HqC5ZZh06kFMXjdqYrpl1xlTZnjwAAN5iU5TE+9AA+b/2Q==&quot;);background-position:0% 0%"/><noscript><img type="jpg" alt="" sizes="100vw" srcSet="https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=640 640w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=750 750w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=828 828w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=1080 1080w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=1200 1200w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=1920 1920w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=2048 2048w, https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=3840 3840w" src="https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg?imwidth=3840" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div><div class="styles_content__yFduY"><div class="styles_md__49sAu"></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"[华科]函数式编程实验3","description":"华中科技大学 函数式编程实验3题目与答案","date":"2021-5-2","image":"https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg"},"content":"\u003ch1\u003eLab3\u003c/h1\u003e\u003ch2\u003eQ1\u003c/h2\u003e\u003cp\u003e编写函数listToTree: int list -\u003e tree，将一个表转换成一棵平衡树\u003c/p\u003e\u003cp\u003e提示：可调用split函数，split函数定义如下： 如果L非空，则存在L1, x, L2，满足： split L = (L1, x, L2) 且 L = L1 @ x :: L2 且 length(L1)和length(L2)差值小于1。\u003c/p\u003e\u003cpre\u003e\u003ccode\u003edatatype tree = Empty | Node of tree*int*tree;\r\n\r\nfun split (x:int list):(int list*int*int list) = \r\n\tlet \r\n\t\tval ind = (List.length(x) div 2)\r\n\t\tval y::R = List.drop(x,ind)\r\n\t\tval L    = List.take(x,ind)\r\n\tin\r\n\t\t(L,y,R)\r\n\tend;\r\n\t\r\nfun listToTree ([]:int list):tree = Empty\r\n  | listToTree ([x]:int list):tree = Node(Empty,x,Empty)\r\n  | listToTree (X:int list):tree = \r\n  \t\tlet \r\n  \t\t\tval (L,x,R) = split(X)\r\n  \t\tin \r\n  \t\t\tNode(listToTree(L),x,listToTree(R))\r\n  \t\tend;\r\n\r\n  \t\t\t\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eQ2\u003c/h2\u003e\u003cp\u003e编写函数revT: tree -\u003e tree，对树进行反转，使trav(revT t) = reverse(trav t)。（trav为树的中序遍历函数）。假设输入参数为一棵平衡二叉树，验证程序的正确性，并分析该函数的执行性能（work和span）\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eSpan_{revT} = O(d)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eWork_{revT} = O(n)\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode\u003edatatype tree = Empty | Node of tree*int*tree;\r\n\r\nfun trav (Empty:tree):int list = []\r\n  | trav (Node(l,x,r):tree):int list = \r\n  \t\tlet \r\n  \t\t\tval L = trav l\r\n\t\t\tval R = trav r\r\n\t\tin \r\n\t\t\tL@[x]@R\r\n\t\tend;\r\n\t\t\r\n\r\nfun revT (Empty:tree):tree = Empty\r\n  | revT (Node(l,x,r):tree):tree = Node(revT r, x, revT l);\r\n  \r\n\r\n\r\nfun reverse (x:int list):int list = List.rev(x);\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eQ3\u003c/h2\u003e\u003cp\u003e编写函数binarySearch: tree * int -\u003e bool。当输出参数1为有序树时，如果树中包含值为参数2的节点，则返回true；否则返回false。要求：程序中请使用函数Int.compare（系统提供），不要使用\u0026#x3C;, =, \u003e。 datatype order = GREATER | EQUAL | LESS case Int.compare(x1, x2) of GREATER =\u003e (* x1 \u003e x2 \u003cem\u003e) | EQUAL =\u003e (\u003c/em\u003e x1 = x2 \u003cem\u003e) | LESS =\u003e (\u003c/em\u003e x1 \u0026#x3C; x2 *)\u003c/p\u003e\u003cpre\u003e\u003ccode\u003edatatype tree = Empty | Node of tree*int*tree;\r\ndatatype order = GREATER | EQUAL | LESS\r\n\r\nfun binarySearch (Empty:tree,y:int):bool = false\r\n  | binarySearch (Node(Empty,x,Empty):tree,y:int):bool = (x=y)\r\n  | binarySearch (Node(l,x,r):tree,y:int):bool = \r\n  \t\tcase Int.compare(x,y) of\r\n  \t\t\tGREATER =\u003e binarySearch(l,y)\r\n  \t\t\t| EQUAL =\u003e true\r\n  \t\t\t| LESS  =\u003e binarySearch(r,y);\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eQ4\u003c/h2\u003e\u003cp\u003e一棵minheap树定义为：\u003c/p\u003e\u003col\u003e\u003cli\u003et is Empty;\u003c/li\u003e\u003cli\u003et is a Node(L, x, R), where R, L are minheaps and values(L), value(R) \u003e= x\t(value(T)函数用于获取树T的根节点的值）\u003c/li\u003e\u003c/ol\u003e\u003cp\u003e编写函数treecompare, SwapDown 和heapify：\u003c/p\u003e\u003cpre\u003e\u003ccode\u003etreecompare: tree * tree -\u003e order (* when given two trees, returns a value of type order, based on which tree has a larger value at the root node *) \r\n\r\nSwapDown: tree -\u003e tree (* REQUIRES the subtrees of t are both minheaps * ENSURES swapDown(t) = if t is Empty or all of t’s immediate children are empty then * just return t, otherwise returns a minheap which contains exactly the elements in t. *) \r\n\r\nheapify : tree -\u003e tree (* given an arbitrary tree t, evaluates to a minheap with exactly the elements of t.  *)\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e分析SwapDown 和heapify两个函数的work和span\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eSpan_{SwapDown}=O(d)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eWork_{SwapDown}=O(d)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eSpan_{heapify}=O(d^2)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"math math-inline\"\u003eWork_{heapify}=O(nlogn)\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode\u003edatatype tree = Empty | Node of tree*int*tree;\r\ndatatype order = GREATER | EQUAL | LESS\r\n\r\nfun treecompare (Empty, Empty) = EQUAL\r\n  | treecompare (X, Empty) = GREATER\r\n  | treecompare (Empty, Y) = LESS\r\n  | treecompare (Node(l1,x1,r1),Node(l2,x2,r2)) = Int.compare(x1,x2);\r\n  \t\t\t\r\nfun SwapDown (Empty:tree):tree = Empty\r\n  | SwapDown (Node(Empty,x,Empty):tree):tree = Node(Empty, x, Empty)\r\n  | SwapDown (Node(Empty,x,r):tree):tree = \r\n        let  \r\n            val Node(rl, rx, rr) = SwapDown r \r\n        in \r\n            case Int.compare(rx, x) of\r\n                LESS =\u003e Node(Empty, rx, Node(rl, x, rr))\r\n                | _  =\u003e Node(Empty, x,  Node(rl, rx,rr))\r\n        end\r\n  | SwapDown (Node(l,x,Empty):tree):tree = \r\n        let \r\n            val Node(ll,lx,lr) = SwapDown l \r\n        in\r\n            case Int.compare(lx, x) of\r\n                LESS =\u003e Node(Node(ll,x,lr), lx, Empty)\r\n                | _  =\u003e Node(Node(ll,lx,lr),x , Empty)\r\n        end\r\n  | SwapDown (Node(l,x,r):tree):tree = \r\n  \t\tlet \r\n  \t\t\tval Node(ll, lx, lr) = SwapDown l\r\n  \t\t\tval Node(rl, rx, rr) = SwapDown r\r\n  \t\tin\r\n  \t\t\tcase Int.compare(lx, rx) of\r\n  \t\t\t\tGREATER =\u003e (case Int.compare(rx, x) of\r\n                \t\t\tLESS =\u003e Node(Node(ll,lx,lr),rx,Node(rl,x,rr))\r\n                        \t| _ =\u003e Node(Node(ll,lx,lr),x,Node(rl,rx,rr))\r\n                            )\r\n                | LESS  =\u003e (case Int.compare(lx, x) of\r\n                 \t\t\tLESS =\u003e Node(Node(ll,x,lr),lx,Node(rl,rx,rr))\r\n                 \t\t\t| _  =\u003e Node(Node(ll,lx,lr),x,Node(rl,rx,rr))\r\n                            )\r\n                | EQUAL =\u003e Node(Node(ll,lx,lr),x,Node(rl,rx,rr)) \r\n         end;    \r\n         \r\n fun balance (T:tree):tree = listToTree(trav T);\r\n         \r\n fun heapify_helper(Empty:tree):tree = Empty\r\n   | heapify_helper(T:tree):tree = \r\n   \t\tlet \r\n            val Node(sd_l, sd_x, sd_r) = SwapDown T\r\n   \t\tin\r\n   \t\t\tNode( SwapDown sd_l, sd_x, SwapDown sd_r )\r\n   \t\tend\r\n         \r\n fun heapify (T:tree):tree = heapify_helper(balance T);\n\u003c/code\u003e\u003c/pre\u003e","renderType":"md","imageProps":{"src":"https://s2.loli.net/2022/06/18/BryAis3WRkCItMg.jpg","width":1920,"height":1080,"type":"jpg","blurDataURL":"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAADAAQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAfEAAABgEFAAAAAAAAAAAAAAAAAQIDBAURBhMhMWH/xAAUAQEAAAAAAAAAAAAAAAAAAAAG/8QAGREBAQEAAwAAAAAAAAAAAAAAAQIAERJR/9oADAMBAAIRAxEAPwCCtLl6HqC5ZZh06kFMXjdqYrpl1xlTZnjwAAN5iU5TE+9AA+b/2Q=="},"language":"en"},"__N_SSG":true},"page":"/[lang]/content/[...slug]","query":{"lang":"en","slug":["engineering-science","computer-science","hust","functional-programming","lab3-md"]},"buildId":"KWBGosNCnO267caR4qW6i","assetPrefix":"walkerchi.github.io","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>